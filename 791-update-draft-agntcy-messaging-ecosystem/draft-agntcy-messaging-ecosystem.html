<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>An Overview of Messaging Systems and Their Applicability to Agentic AI</title>
<meta content="Luca Muscariello" name="author">
<meta content="
       Agentic AI systems require messaging infrastructure that supports real-time collaboration, high-volume streaming, and dynamic group coordination across distributed networks. Traditional protocols like AMQP, MQTT, and NATS address some requirements but fall short on security, particularly regarding post-compromise protection and quantum-safe encryption essential for autonomous agents handling sensitive data. 
       This document analyzes six messaging protocols—AMQP, MQTT, NATS, AMQP over WebSockets, Kafka, and AGNTCY SLIM—across dimensions critical for GenAI agent systems: streaming performance, delivery guarantees, security models, and operational complexity. We examine how each protocol's design decisions impact agentic AI deployments, from lightweight edge computing scenarios to large-scale multi-organizational collaborations. 
       AGNTCY SLIM emerges as a purpose-built solution, integrating Message Layer Security (MLS) with gRPC over HTTP/2 to provide quantum-safe end-to-end encryption, efficient streaming, and OAuth-based authentication. Unlike transport-layer security approaches, SLIM's MLS implementation ensures secure communication even through untrusted intermediaries while supporting dynamic group membership changes essential for collaborative AI agents. 
    " name="description">
<meta content="xml2rfc 3.30.2" name="generator">
<meta content="AI" name="keyword">
<meta content="Agentic AI" name="keyword">
<meta content="Communications" name="keyword">
<meta content="Realtime" name="keyword">
<meta content="draft-agntcy-messaging-ecosystem-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.30.2
    Python 3.12.11
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.4.0
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.5
    setuptools 80.9.0
    wcwidth 0.2.14
-->
<link href="draft-agntcy-messaging-ecosystem.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">agncty-messaging-eco</td>
<td class="right">October 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Muscariello</td>
<td class="center">Expires 10 April 2026</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Independent Submission</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-agntcy-messaging-ecosystem-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-10-07" class="published">7 October 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2026-04-10">10 April 2026</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Muscariello</div>
<div class="org">Cisco</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">An Overview of Messaging Systems and Their Applicability to Agentic AI</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Agentic AI systems require messaging infrastructure that supports real-time collaboration, high-volume streaming, and dynamic group coordination across distributed networks. Traditional protocols like AMQP, MQTT, and NATS address some requirements but fall short on security, particularly regarding post-compromise protection and quantum-safe encryption essential for autonomous agents handling sensitive data.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document analyzes six messaging protocols—AMQP, MQTT, NATS, AMQP over WebSockets, Kafka, and AGNTCY SLIM—across dimensions critical for GenAI agent systems: streaming performance, delivery guarantees, security models, and operational complexity. We examine how each protocol's design decisions impact agentic AI deployments, from lightweight edge computing scenarios to large-scale multi-organizational collaborations.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">AGNTCY SLIM emerges as a purpose-built solution, integrating Message Layer Security (MLS) with gRPC over HTTP/2 to provide quantum-safe end-to-end encryption, efficient streaming, and OAuth-based authentication. Unlike transport-layer security approaches, SLIM's MLS implementation ensures secure communication even through untrusted intermediaries while supporting dynamic group membership changes essential for collaborative AI agents.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://spec.slim.agntcy.org">https://spec.slim.agntcy.org</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-agntcy-messaging-ecosystem/">https://datatracker.ietf.org/doc/draft-agntcy-messaging-ecosystem/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        WG Working Group mailing list (<span><a href="mailto:discussion@agntcy.org">mailto:discussion@agntcy.org</a></span>).<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/agntcy/slim">https://github.com/agntcy/slim</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 10 April 2026.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-protocol-analysis-for-agent" class="internal xref">Protocol Analysis for Agentic AI Systems</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-traditional-enterprise-mess" class="internal xref">Traditional Enterprise Messaging: AMQP</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-iot-optimized-messaging-mqt" class="internal xref">IoT-Optimized Messaging: MQTT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-cloud-native-messaging-nats" class="internal xref">Cloud-Native Messaging: NATS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-browser-integration-amqp-ov" class="internal xref">Browser Integration: AMQP over WebSockets</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-high-throughput-streaming-a" class="internal xref">High-Throughput Streaming: Apache Kafka</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="auto internal xref">3.6</a>.  <a href="#name-next-generation-agent-messa" class="internal xref">Next-Generation Agent Messaging: SLIM</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="auto internal xref">3.7</a>.  <a href="#name-security-considerations-for" class="internal xref">Security Considerations for Agentic AI</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1"><a href="#section-3.8" class="auto internal xref">3.8</a>.  <a href="#name-performance-implications" class="internal xref">Performance Implications</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9">
                <p id="section-toc.1-1.3.2.9.1"><a href="#section-3.9" class="auto internal xref">3.9</a>.  <a href="#name-deployment-and-operational-" class="internal xref">Deployment and Operational Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-rpc-in-agentic-protocols-an" class="internal xref">RPC in Agentic Protocols and Relationship to Messaging</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-rpc-vs-messaging-synchronou" class="internal xref">RPC vs. Messaging: Synchronous vs. Asynchronous</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-when-asynchronous-feels-syn" class="internal xref">When Asynchronous Feels Synchronous (Interactive Real-Time)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-bridging-patterns-rpc-over-" class="internal xref">Bridging Patterns: RPC over Messaging and Streaming RPC</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-a2a-and-mcp-in-context" class="internal xref">A2A and MCP in Context</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-slim-rpc-srpc" class="internal xref">SLIM RPC (SRPC)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="auto internal xref">4.6</a>.  <a href="#name-advantages-of-slim-for-a2a-" class="internal xref">Advantages of SLIM for A2A APIs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="auto internal xref">4.7</a>.  <a href="#name-security-implications" class="internal xref">Security Implications</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-comparison" class="internal xref">Comparison</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-1">
      <h2 id="name-conventions-and-definitions">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="introduction">
<section id="section-2">
      <h2 id="name-introduction">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-2-1">When designing a multi-agent system for generative AI, the messaging layer
becomes a critical piece of infrastructure. GenAI agents—built with frameworks
like LangGraph, AutoGen, or LlamaIndex—often need to collaborate in real time,
exchange high volumes of streaming data (e.g., token-by-token outputs), and
coordinate complex tasks such as voting or consensus. Moreover, security
requirements extend well beyond basic TLS; in scenarios where agents share
sensitive models or partial computations, post-compromise security and robust
end-to-end encryption are essential.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">In practice, you’ll want a protocol that efficiently handles one-to-many or
many-to-many communication, supports dynamic membership (with agents joining or
leaving on the fly), and scales to accommodate a “forest” of agents spread
across global networks. Some protocols excel at ultra-low-latency,
high-throughput streaming—critical for continuous token streams or aggregated
embeddings—while others emphasize strong consistency and durability.
Additionally, advanced cryptographic features such as automatic key rotation and
forward secrecy are vital when compromised credentials must not enable an
attacker to decrypt future communications.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Below, we compare six popular messaging protocols—AMQP, MQTT, NATS, AMQP over
WebSockets, Kafka, and the emerging AGNTCY SLIM (Secure Low-Latency Interactive
Messaging)—across
dimensions that matter for GenAI agent systems: streaming performance, delivery
guarantees, flexible pub/sub patterns, agent coordination, security (including
end-to-end encryption and zero-trust support), and real-world adoption.<a href="#section-2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="protocol-analysis-for-agentic-ai-systems">
<section id="section-3">
      <h2 id="name-protocol-analysis-for-agent">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-protocol-analysis-for-agent" class="section-name selfRef">Protocol Analysis for Agentic AI Systems</a>
      </h2>
<p id="section-3-1">The following sections provide detailed analysis of each messaging protocol in
the context of agentic AI requirements.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="traditional-enterprise-messaging-amqp">
<section id="section-3.1">
        <h3 id="name-traditional-enterprise-mess">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-traditional-enterprise-mess" class="section-name selfRef">Traditional Enterprise Messaging: AMQP</a>
        </h3>
<p id="section-3.1-1">The Advanced Message Queuing Protocol (AMQP), most commonly implemented through
RabbitMQ, represents the gold standard for enterprise messaging systems. AMQP's
strength lies in its sophisticated message routing capabilities through
exchanges, queues, and routing keys, enabling complex message flow patterns
essential for enterprise applications.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">For agentic AI systems, AMQP offers several advantages. Its support for both
at-least-once and exactly-once delivery semantics (particularly in AMQP 1.0)
ensures reliable message delivery between AI agents, which is crucial when
agents are coordinating critical tasks or sharing expensive computational
results. The protocol's durable queue support means that agent messages can
persist across system restarts, preventing loss of important coordination data.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">However, AMQP's enterprise focus comes with trade-offs. The protocol carries
higher overhead due to its rich feature set, which may impact performance in
high-frequency agent communication scenarios. Streaming capabilities require
extensions like RabbitMQ Streams, adding complexity to deployments focused on
real-time agent collaboration.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">Authentication in AMQP relies on traditional enterprise mechanisms like SASL,
LDAP, and Kerberos, which integrate well with existing corporate identity
systems but may not align with modern cloud-native authentication patterns
preferred in AI infrastructure.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iot-optimized-messaging-mqtt">
<section id="section-3.2">
        <h3 id="name-iot-optimized-messaging-mqt">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-iot-optimized-messaging-mqt" class="section-name selfRef">IoT-Optimized Messaging: MQTT</a>
        </h3>
<p id="section-3.2-1">Message Queuing Telemetry Transport (MQTT) emerged from the IoT world with a
focus on lightweight, efficient communication over constrained networks. Its
topic-based publish-subscribe model maps naturally to many agent communication
patterns, where agents subscribe to topics representing different types of
events or data streams.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">MQTT's three Quality of Service levels (QoS 0, 1, and 2) provide flexibility in
balancing performance versus reliability. For agentic AI systems, QoS 0
(at-most-once) works well for frequent status updates or non-critical
notifications, while QoS 2 (exactly-once) ensures critical agent coordination
messages are delivered reliably.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">The protocol's very low overhead makes it attractive for scenarios involving
large numbers of lightweight AI agents or edge computing deployments where
bandwidth is constrained. However, MQTT's IoT heritage shows in its limitations
for agentic AI use cases. Native streaming support requires broker extensions,
and message-level security typically relies entirely on transport-layer TLS
rather than end-to-end encryption.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">MQTT's authentication mechanisms, while sufficient for IoT devices, may not
provide the sophisticated identity and access management features required for
complex multi-agent AI systems involving different trust domains.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cloud-native-messaging-nats">
<section id="section-3.3">
        <h3 id="name-cloud-native-messaging-nats">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-cloud-native-messaging-nats" class="section-name selfRef">Cloud-Native Messaging: NATS</a>
        </h3>
<p id="section-3.3-1">NATS represents a modern approach to messaging designed for cloud-native
architectures. Its lightweight design and support for multiple communication
patterns—publish-subscribe, request-reply, and queue groups—make it particularly
well-suited for microservices-based AI agent deployments.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The protocol's core at-most-once delivery semantics align well with scenarios
where AI agents can tolerate occasional message loss in favor of high
performance. For use cases requiring stronger guarantees, NATS JetStream
provides at-least-once delivery and streaming capabilities, though this requires
additional infrastructure complexity.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">NATS's optional broker architecture offers interesting deployment flexibility
for agentic AI systems. While most deployments use a broker for efficiency, the
protocol can support peer-to-peer communication, potentially enabling direct
agent-to-agent communication in specialized scenarios.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">Authentication in NATS includes modern options like JWT tokens and NKey
cryptographic authentication, aligning better with cloud-native security
practices. However, like MQTT, NATS relies primarily on transport-layer security
rather than providing built-in end-to-end message encryption.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="browser-integration-amqp-over-websockets">
<section id="section-3.4">
        <h3 id="name-browser-integration-amqp-ov">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-browser-integration-amqp-ov" class="section-name selfRef">Browser Integration: AMQP over WebSockets</a>
        </h3>
<p id="section-3.4-1">AMQP over WebSockets addresses a specific deployment challenge: enabling
browser-based AI agents or user interfaces to participate in AMQP-based agent
coordination systems. This approach tunnels standard AMQP protocols through
WebSocket connections, allowing web applications to overcome firewall
restrictions and network topology limitations.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">For agentic AI systems that include web-based components—such as user-facing AI
assistants that need to coordinate with backend AI agents—this protocol variant
provides a bridge between browser environments and enterprise messaging
infrastructure. The WebSocket Secure (WSS) transport ensures encrypted
communication from browser to broker.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">However, the additional protocol layers (AMQP within WebSockets) introduce
higher overhead compared to native AMQP or other lightweight protocols. This
makes AMQP over WebSockets primarily suitable for scenarios where browser
integration is essential rather than for high-performance agent-to-agent
communication.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="high-throughput-streaming-apache-kafka">
<section id="section-3.5">
        <h3 id="name-high-throughput-streaming-a">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-high-throughput-streaming-a" class="section-name selfRef">High-Throughput Streaming: Apache Kafka</a>
        </h3>
<p id="section-3.5-1">Apache Kafka represents a fundamentally different approach to messaging, based
on distributed commit logs rather than traditional message queues. This
architecture provides exceptional throughput and built-in streaming capabilities
that align well with certain agentic AI use cases.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">Kafka's partition-based topic model enables massive horizontal scaling, making
it suitable for AI systems that need to process large volumes of training data,
model updates, or inference results across distributed agent networks. The
platform's native streaming capabilities through Kafka Streams and KSQL provide
powerful tools for real-time processing of agent-generated data.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<p id="section-3.5-3">The protocol's built-in persistence across distributed clusters ensures that
agent communication history is preserved and can be replayed, which is valuable
for AI systems that need to audit agent decisions or retrain models based on
historical interactions. Consumer groups enable multiple agents to process
different partitions of the same topic concurrently, supporting parallel AI
workloads.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<p id="section-3.5-4">However, Kafka's strengths come with complexity costs. The requirement for a
distributed cluster infrastructure may be overkill for simpler agent
coordination tasks. While Kafka provides exactly-once semantics through
transactions, the default at-least-once delivery may require additional
deduplication logic in agent implementations.<a href="#section-3.5-4" class="pilcrow">¶</a></p>
<p id="section-3.5-5">Kafka's security model, while comprehensive, relies primarily on transport-layer
encryption and broker-based access controls rather than end-to-end message
encryption, which may not meet the security requirements of AI systems handling
sensitive model data or proprietary algorithms.<a href="#section-3.5-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="next-generation-agent-messaging-slim">
<section id="section-3.6">
        <h3 id="name-next-generation-agent-messa">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-next-generation-agent-messa" class="section-name selfRef">Next-Generation Agent Messaging: SLIM</a>
        </h3>
<p id="section-3.6-1">AGNTCY SLIM (Secure Low-Latency Interactive Messaging) represents a
purpose-built protocol for modern agentic AI systems, designed to address the
specific security, performance, and coordination requirements that existing
protocols cannot fully satisfy.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<p id="section-3.6-2">SLIM's foundation on gRPC over HTTP/2 and HTTP/3 provides several immediate
advantages for AI agent communication. The binary protocol buffer wire format
minimizes serialization overhead while supporting both binary and text data
types essential for AI workloads. HTTP/2's multiplexing capabilities allow a
single connection to carry multiple concurrent agent conversations, reducing
connection overhead in systems with many interacting agents.<a href="#section-3.6-2" class="pilcrow">¶</a></p>
<p id="section-3.6-3">The protocol's quality of service model explicitly addresses the diverse
communication patterns found in agentic AI systems. Fire-and-forget messaging
supports high-frequency status updates and non-critical notifications, while
reliable exactly-once delivery ensures critical coordination messages and
expensive computational results are never lost. This extends consistently across
request-reply patterns and streaming communications.<a href="#section-3.6-3" class="pilcrow">¶</a></p>
<p id="section-3.6-4">Perhaps most significantly, SLIM's integration of Message Layer Security (MLS)
provides quantum-safe, end-to-end encryption specifically designed for group
communications. Unlike transport-layer security approaches used by other
protocols, MLS ensures that messages remain secure even when transmitted through
potentially compromised intermediaries—a critical requirement for AI systems
operating across multiple trust domains.<a href="#section-3.6-4" class="pilcrow">¶</a></p>
<p id="section-3.6-5">The protocol's authentication model demonstrates particular innovation in
addressing agentic AI security requirements. By transporting MLS credentials and
cryptographic proofs within OAuth bearer tokens over HTTP/2, SLIM achieves
several important properties:<a href="#section-3.6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.6-6.1">
            <p id="section-3.6-6.1.1"><strong>Interoperability</strong>: Leverages standard HTTP/2 and OAuth libraries, reducing
implementation complexity and improving compatibility with existing
infrastructure<a href="#section-3.6-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-6.2">
            <p id="section-3.6-6.2.1"><strong>Scalability</strong>: Single persistent HTTP/2 connections efficiently carry many
MLS-secured messages between agents<a href="#section-3.6-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-6.3">
            <p id="section-3.6-6.3.1"><strong>Immediate revocation</strong>: Malicious or compromised agents can be immediately
ejected by revoking their OAuth tokens without requiring complex ratchet
tree rebalancing operations<a href="#section-3.6-6.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.6-7">SLIM's topic organization based on organizational hierarchies, namespaces, and
agent types provides a natural mapping to real-world AI system deployments where
different agent types operate within different security domains and
organizational boundaries.<a href="#section-3.6-7" class="pilcrow">¶</a></p>
<p id="section-3.6-8">The protocol's support for both broker-based and peer-to-peer operation offers
deployment flexibility. While broker-based operation provides efficiency for
multi-party group communications typical in agent coordination scenarios,
peer-to-peer capabilities enable direct agent-to-agent communication when
appropriate.<a href="#section-3.6-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations-for-agentic-ai">
<section id="section-3.7">
        <h3 id="name-security-considerations-for">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-security-considerations-for" class="section-name selfRef">Security Considerations for Agentic AI</a>
        </h3>
<p id="section-3.7-1">Security requirements for agentic AI systems extend well beyond the capabilities
provided by traditional messaging protocols. The autonomous nature of AI agents,
combined with their access to sensitive data and computational resources,
creates unique threat models that messaging infrastructure must address.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<p id="section-3.7-2"><strong>Post-Compromise Security</strong>: In traditional systems, credential compromise
typically requires immediate revocation and re-authentication. However, AI
agents may operate for extended periods with limited human oversight. SLIM's
MLS implementation provides forward secrecy, ensuring that compromise of
current credentials cannot decrypt past communications, and post-compromise
security, guaranteeing that future communications remain secure even after
credential compromise.<a href="#section-3.7-2" class="pilcrow">¶</a></p>
<p id="section-3.7-3"><strong>Quantum-Safe Cryptography</strong>: As quantum computing advances threaten current
cryptographic standards, AI systems—which may operate for years with the same
cryptographic keys—need protection against future quantum attacks. SLIM's
quantum-safe MLS implementation provides this protection, while traditional
protocols rely on classical cryptographic assumptions that may become
vulnerable.<a href="#section-3.7-3" class="pilcrow">¶</a></p>
<p id="section-3.7-4"><strong>Multi-Domain Operations</strong>: Agentic AI systems often span multiple
organizational and security domains, with agents from different organizations
collaborating on shared tasks. Traditional protocols typically assume trust in
messaging infrastructure, but SLIM's end-to-end encryption ensures secure
communication even when messages transit through potentially untrusted
intermediaries.<a href="#section-3.7-4" class="pilcrow">¶</a></p>
<p id="section-3.7-5"><strong>Dynamic Group Membership</strong>: AI agent groups frequently change as agents join
collaborations, complete tasks, or become unavailable. MLS's efficient group
key management handles these membership changes while maintaining security
properties, unlike approaches that require complete cryptographic context
regeneration.<a href="#section-3.7-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="performance-implications">
<section id="section-3.8">
        <h3 id="name-performance-implications">
<a href="#section-3.8" class="section-number selfRef">3.8. </a><a href="#name-performance-implications" class="section-name selfRef">Performance Implications</a>
        </h3>
<p id="section-3.8-1">The performance characteristics of messaging protocols significantly impact the
behavior and capabilities of agentic AI systems, particularly as the number of
agents and frequency of interactions scale.<a href="#section-3.8-1" class="pilcrow">¶</a></p>
<p id="section-3.8-2"><strong>Latency Sensitivity</strong>: Many AI agent interactions are latency-sensitive,
particularly in real-time decision-making scenarios or when agents are
coordinating time-critical tasks. SLIM's HTTP/2 foundation provides header
compression and multiplexing that reduce per-message overhead, while the binary
protocol buffer encoding minimizes serialization costs.<a href="#section-3.8-2" class="pilcrow">¶</a></p>
<p id="section-3.8-3"><strong>Throughput Requirements</strong>: Large-scale agentic AI systems may involve
thousands of agents generating substantial message volumes. While protocols
like Kafka excel at raw throughput, they may introduce latency through their
log-based architecture. SLIM balances throughput and latency through efficient
connection reuse and optional reliability levels.<a href="#section-3.8-3" class="pilcrow">¶</a></p>
<p id="section-3.8-4"><strong>Connection Efficiency</strong>: Traditional protocols often require separate
connections for each communication pattern or security context. SLIM's
connection multiplexing allows a single HTTP/2 connection to handle diverse
communication patterns between agents, reducing resource consumption and
connection establishment overhead.<a href="#section-3.8-4" class="pilcrow">¶</a></p>
<p id="section-3.8-5"><strong>Streaming Performance</strong>: AI agents frequently exchange streaming data—such as
token-by-token language model outputs or real-time sensor data. SLIM's native
gRPC streaming support over HTTP/2 provides efficient bidirectional streaming
without the overhead of connection-per-stream approaches.<a href="#section-3.8-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="deployment-and-operational-considerations">
<section id="section-3.9">
        <h3 id="name-deployment-and-operational-">
<a href="#section-3.9" class="section-number selfRef">3.9. </a><a href="#name-deployment-and-operational-" class="section-name selfRef">Deployment and Operational Considerations</a>
        </h3>
<p id="section-3.9-1">The operational characteristics of messaging protocols significantly impact the
total cost of ownership and operational complexity of agentic AI systems.<a href="#section-3.9-1" class="pilcrow">¶</a></p>
<p id="section-3.9-2"><strong>Infrastructure Requirements</strong>: Traditional enterprise protocols like AMQP
require dedicated message broker infrastructure with high availability and
clustering capabilities. Kafka requires even more complex distributed
infrastructure. SLIM's optional broker architecture allows deployments to scale
infrastructure complexity with system requirements.<a href="#section-3.9-2" class="pilcrow">¶</a></p>
<p id="section-3.9-3"><strong>Monitoring and Observability</strong>: Debugging distributed agentic AI systems
requires comprehensive visibility into agent communications. SLIM's foundation
on standard HTTP/2 infrastructure enables use of existing observability tools
and practices, while proprietary protocols may require specialized monitoring
solutions.<a href="#section-3.9-3" class="pilcrow">¶</a></p>
<p id="section-3.9-4"><strong>Integration with Cloud Services</strong>: Modern AI deployments increasingly rely on
cloud services for scalability and managed operations. SLIM's HTTP/2 foundation
integrates naturally with cloud load balancers, API gateways, and observability
services, while specialized messaging protocols may require additional
integration layers.<a href="#section-3.9-4" class="pilcrow">¶</a></p>
<p id="section-3.9-5"><strong>Compliance and Auditing</strong>: AI systems in regulated industries require
comprehensive audit trails and compliance capabilities. SLIM's structured topic
hierarchy and optional message persistence support regulatory requirements,
while the end-to-end encryption provides compliance with data protection
regulations.<a href="#section-3.9-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="rpc-in-agentic-protocols-and-relationship-to-messaging">
<section id="section-4">
      <h2 id="name-rpc-in-agentic-protocols-an">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-rpc-in-agentic-protocols-an" class="section-name selfRef">RPC in Agentic Protocols and Relationship to Messaging</a>
      </h2>
<p id="section-4-1">Most agent-facing interfaces in use today — notably A2A and the Model Context Protocol (MCP) — are Remote Procedure Call (RPC) oriented. They expose synchronous request/response semantics for tool invocation, resource listing, and capability execution. This section clarifies how RPC relates to asynchronous messaging and how the two paradigms interoperate in agentic systems.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="rpc-vs-messaging-synchronous-vs-asynchronous">
<section id="section-4.1">
        <h3 id="name-rpc-vs-messaging-synchronou">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-rpc-vs-messaging-synchronou" class="section-name selfRef">RPC vs. Messaging: Synchronous vs. Asynchronous</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-4.1-1.1">
            <p id="section-4.1-1.1.1"><strong>RPC (A2A, MCP)</strong>: Caller issues a request and blocks/awaits a timely response. Semantics emphasize tightly scoped operations (for example, “call tool X with parameters Y”) with bounded latency and explicit error contracts.<a href="#section-4.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-1.2">
            <p id="section-4.1-1.2.1"><strong>Messaging (AMQP, MQTT, NATS, Kafka, SLIM)</strong>: Decoupled producers/consumers communicate via topics/subjects/queues. Delivery can be one-to-one, one-to-many, or many-to-many with loose coupling, buffering, and retries. Producers are not inherently blocked by consumers.<a href="#section-4.1-1.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-2">In practice, agentic applications need both: synchronous tool invocations for interactivity and asynchronous channels for streaming output, progress, coordination, and fan-out/fan-in patterns.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="when-asynchronous-feels-synchronous-interactive-real-time">
<section id="section-4.2">
        <h3 id="name-when-asynchronous-feels-syn">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-when-asynchronous-feels-syn" class="section-name selfRef">When Asynchronous Feels Synchronous (Interactive Real-Time)</a>
        </h3>
<p id="section-4.2-1">Asynchronous transports can provide an interactive, “RPC-like” experience when:
- A request message includes a correlation ID and reply-to destination.
- The callee publishes a response on the indicated reply destination within a short SLA.
- Client libraries surface responses as futures/promises and manage timeouts/retries.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">This underpins instant messaging UX and maps well to agent UIs where a user triggers an action and expects prompt, possibly streaming, results.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="bridging-patterns-rpc-over-messaging-and-streaming-rpc">
<section id="section-4.3">
        <h3 id="name-bridging-patterns-rpc-over-">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-bridging-patterns-rpc-over-" class="section-name selfRef">Bridging Patterns: RPC over Messaging and Streaming RPC</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-4.3-1.1">
            <p id="section-4.3-1.1.1"><strong>Request/Reply over Pub/Sub</strong>: Implement RPC by publishing a command event and awaiting a correlated reply event (applies to AMQP, NATS, MQTT, and SLIM topics).<a href="#section-4.3-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-1.2">
            <p id="section-4.3-1.2.1"><strong>Streaming RPC</strong>: Use bidirectional streams (for example, gRPC over SLIM HTTP/2/3) to deliver token streams, partial results, or progress updates while retaining an RPC caller experience.<a href="#section-4.3-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-1.3">
            <p id="section-4.3-1.3.1"><strong>Sagas and CQRS</strong>: For multi-step workflows across agents, coordinate via asynchronous orchestration with idempotency keys, correlation/causation IDs, and compensations.<a href="#section-4.3-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-1.4">
            <p id="section-4.3-1.4.1"><strong>Backpressure and Flow Control</strong>: Prefer streaming transports (HTTP/2/3, gRPC) or messaging systems with flow control when returning large/continuous results.<a href="#section-4.3-1.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="a2a-and-mcp-in-context">
<section id="section-4.4">
        <h3 id="name-a2a-and-mcp-in-context">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-a2a-and-mcp-in-context" class="section-name selfRef">A2A and MCP in Context</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-4.4-1.1">
            <p id="section-4.4-1.1.1"><strong>A2A Agent Cards</strong>: Describe capabilities/endpoints commonly invoked via RPC-style calls (tool execution, configuration). They benefit from messaging for discovery, eventing, and long-running workflows.<a href="#section-4.4-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.4-1.2">
            <p id="section-4.4-1.2.1"><strong>MCP</strong>: Standardizes RPC-like interactions (resources, tools, prompts). For multi-party sessions, combine MCP RPC with a messaging layer for broadcast, presence, and coordination.<a href="#section-4.4-1.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="slim-rpc-srpc">
<section id="section-4.5">
        <h3 id="name-slim-rpc-srpc">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-slim-rpc-srpc" class="section-name selfRef">SLIM RPC (SRPC)</a>
        </h3>
<p id="section-4.5-1">SLIM also supports a native RPC style via SRPC (Slim RPC), which layers request/response semantics on top of SLIM's interactive, real-time messaging. SRPC addresses practical RPC concerns in distributed agent systems:<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-2.1">
            <p id="section-4.5-2.1.1">Correlation and reply routing for synchronous calls over an async transport<a href="#section-4.5-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.5-2.2">
            <p id="section-4.5-2.2.1">Idempotency keys and deduplication to make retries safe<a href="#section-4.5-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.5-2.3">
            <p id="section-4.5-2.3.1">Lightweight synchronization/ordering guarantees for request/response and streaming<a href="#section-4.5-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.5-2.4">
            <p id="section-4.5-2.4.1">Seamless fit for A2A/MCP-style tool calls while retaining SLIM's MLS security and multiplexing<a href="#section-4.5-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.5-3">See SRPC reference and examples: <a href="https://github.com/agntcy/slim/blob/main/data-plane/python/integrations/slimrpc/README.md">SLIM RPC (SRPC) README</a>.<a href="#section-4.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="advantages-of-slim-for-a2a-apis">
<section id="section-4.6">
        <h3 id="name-advantages-of-slim-for-a2a-">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-advantages-of-slim-for-a2a-" class="section-name selfRef">Advantages of SLIM for A2A APIs</a>
        </h3>
<p id="section-4.6-1">SLIM augments existing A2A-style RPC with capabilities that are difficult to achieve over plain request/response transports:<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6-2.1">
            <p id="section-4.6-2.1.1"><strong>Simultaneous fan-out RPC (scatter-gather)</strong>: Invoke a single RPC across many agents (by topic/group/labels) concurrently and aggregate responses (first-success, quorum, all-success) with correlation IDs.<a href="#section-4.6-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.6-2.2">
            <p id="section-4.6-2.2.1"><strong>Group addressing and dynamic membership</strong>: Target MLS-secured groups; add/remove agents without reconfiguring endpoints.<a href="#section-4.6-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.6-2.3">
            <p id="section-4.6-2.3.1"><strong>Streaming responses</strong>: Return partial results or token streams from each agent over a single multiplexed connection (gRPC over HTTP/2/3).<a href="#section-4.6-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.6-2.4">
            <p id="section-4.6-2.4.1"><strong>Idempotency and safe retries</strong>: SRPC supports idempotency keys and deduplication, enabling robust retry without duplicating effects.<a href="#section-4.6-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.6-2.5">
            <p id="section-4.6-2.5.1"><strong>QoS, deadlines, and backpressure</strong>: Apply delivery guarantees, per-call timeouts, and flow control to avoid overload while maintaining interactivity.<a href="#section-4.6-2.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.6-2.6">
            <p id="section-4.6-2.6.1"><strong>End-to-end security and multi-tenant isolation</strong>: MLS E2E encryption and OAuth-based policy across both RPC and messaging channels.<a href="#section-4.6-2.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.6-2.7">
            <p id="section-4.6-2.7.1"><strong>Observability and tracing</strong>: Correlation/causation IDs and standardized transport enable distributed tracing and per-agent metrics.<a href="#section-4.6-2.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.6-3">These capabilities let A2A-style tool calls scale beyond one-to-one interactions, enabling broadcast queries, coordinated multi-agent actions, and efficient collection of results in real time.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-implications">
<section id="section-4.7">
        <h3 id="name-security-implications">
<a href="#section-4.7" class="section-number selfRef">4.7. </a><a href="#name-security-implications" class="section-name selfRef">Security Implications</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-4.7-1.1">
            <p id="section-4.7-1.1.1"><strong>Identity and Authorization</strong>: Reuse OAuth tokens across RPC (gRPC) and messaging (SLIM channels as topics) for consistent policy enforcement.<a href="#section-4.7-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.7-1.2">
            <p id="section-4.7-1.2.1"><strong>End-to-End Security</strong>: MLS-backed secure channels (SLIM) so both RPC and messaging inherit end to end message encryption.
## Guidance: When to Choose What<a href="#section-4.7-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.7-1.3">
            <p id="section-4.7-1.3.1">Use <strong>RPC (A2A/MCP)</strong> for low-latency, point operations with immediate feedback and well-defined error contracts.<a href="#section-4.7-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.7-1.4">
            <p id="section-4.7-1.4.1">Use <strong>Messaging</strong> for broadcast/fan-out, decoupling, retries, buffering, and multi-party coordination.<a href="#section-4.7-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.7-1.5">
            <p id="section-4.7-1.5.1">Use <strong>Streaming RPC or RPC over Messaging</strong> for interactive UX with partial/continuous results or uncertain duration operations.<a href="#section-4.7-1.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="comparison">
<section id="section-5">
      <h2 id="name-comparison">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-comparison" class="section-name selfRef">Comparison</a>
      </h2>
<p id="section-5-1">Table 1 provides a detailed comparison of three popular messaging protocols commonly considered for agent communication systems:<a href="#section-5-1" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Feature</th>
            <th class="text-left" rowspan="1" colspan="1">AMQP (e.g. RabbitMQ)</th>
            <th class="text-left" rowspan="1" colspan="1">MQTT</th>
            <th class="text-left" rowspan="1" colspan="1">NATS</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Protocol Type</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Message queueing (queues/exchanges)</td>
            <td class="text-left" rowspan="1" colspan="1">Lightweight pub/sub for IoT</td>
            <td class="text-left" rowspan="1" colspan="1">Lightweight messaging (pub/sub, req/reply, queue groups)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Transport</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">TCP (optionally TLS)</td>
            <td class="text-left" rowspan="1" colspan="1">TCP (optionally TLS)</td>
            <td class="text-left" rowspan="1" colspan="1">TCP (optionally TLS)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Message Model</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Queues, exchanges, routing keys</td>
            <td class="text-left" rowspan="1" colspan="1">Topic-based</td>
            <td class="text-left" rowspan="1" colspan="1">Subjects (pub/sub), queue groups, request/reply</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>QoS / Delivery</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">At-least-once, exactly-once (AMQP 1.0)</td>
            <td class="text-left" rowspan="1" colspan="1">QoS 0 (at-most-once), 1, 2 (exactly-once)</td>
            <td class="text-left" rowspan="1" colspan="1">At-most-once (core), at-least-once with JetStream</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Streaming</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Via extensions/plugins (e.g. RabbitMQ Streams)</td>
            <td class="text-left" rowspan="1" colspan="1">Not native (requires broker extensions)</td>
            <td class="text-left" rowspan="1" colspan="1">Native with JetStream</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Persistence</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes (durable queues)</td>
            <td class="text-left" rowspan="1" colspan="1">Broker-dependent</td>
            <td class="text-left" rowspan="1" colspan="1">Optional via JetStream</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Protocol Overhead</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Higher (rich feature set)</td>
            <td class="text-left" rowspan="1" colspan="1">Very low</td>
            <td class="text-left" rowspan="1" colspan="1">Very low</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Broker Required</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Optional (but common)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Authentication</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">User/password, SASL (e.g., LDAP, Kerberos)</td>
            <td class="text-left" rowspan="1" colspan="1">Username/password or custom tokens</td>
            <td class="text-left" rowspan="1" colspan="1">NKey, JWT, token, user/password</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Transport Security</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Message Security</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Typically broker-level or plugin-based encryption</td>
            <td class="text-left" rowspan="1" colspan="1">Usually none at message level; rely on TLS</td>
            <td class="text-left" rowspan="1" colspan="1">None in core (TLS in transit), JetStream can encrypt at rest</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Binary or Text</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Binary framing</td>
            <td class="text-left" rowspan="1" colspan="1">Binary framing</td>
            <td class="text-left" rowspan="1" colspan="1">Text-based protocol (core), binary clients available</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Use Cases</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Enterprise messaging, financial transactions, RPC</td>
            <td class="text-left" rowspan="1" colspan="1">IoT, mobile, sensor networks</td>
            <td class="text-left" rowspan="1" colspan="1">Cloud-native microservices, real-time communications</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Real-World Usage</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Very widely used via RabbitMQ (top open-source broker) in enterprises of all sizes</td>
            <td class="text-left" rowspan="1" colspan="1">Dominant in IoT ecosystems; supported by many device/broker vendors</td>
            <td class="text-left" rowspan="1" colspan="1">Gaining traction in cloud-native (CNCF project), used by major tech companies</td>
          </tr>
        </tbody>
      </table>
<p id="section-5-3">Table 2 extends the comparison to include additional protocols relevant to modern agentic AI systems:<a href="#section-5-3" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
        <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Feature</th>
            <th class="text-left" rowspan="1" colspan="1">AMQP over WebSockets</th>
            <th class="text-left" rowspan="1" colspan="1">Kafka</th>
            <th class="text-left" rowspan="1" colspan="1">SLIM</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Protocol Type</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">AMQP tunneled through WebSockets</td>
            <td class="text-left" rowspan="1" colspan="1">Distributed commit log, high-throughput pub/sub</td>
            <td class="text-left" rowspan="1" colspan="1">SLIM Spec</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Transport</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">WebSockets over TLS</td>
            <td class="text-left" rowspan="1" colspan="1">TCP (optionally TLS)</td>
            <td class="text-left" rowspan="1" colspan="1">gRPC (over HTTP/2-HTTP/3)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Message Model</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Same as AMQP (depends on the broker's AMQP model)</td>
            <td class="text-left" rowspan="1" colspan="1">Topics with partitions, consumer groups, offset-based consumption</td>
            <td class="text-left" rowspan="1" colspan="1">Topics based on organization, namespace, agent types etc.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>QoS / Delivery</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Same as AMQP</td>
            <td class="text-left" rowspan="1" colspan="1">At-least-once default; exactly-once possible via transactions</td>
            <td class="text-left" rowspan="1" colspan="1">Fire&amp;Forget unreliable (at-most-once), unreliable and reliable (exactly-once). This extends to request/reply and streaming as well.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Streaming</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Same as AMQP if broker supports streaming</td>
            <td class="text-left" rowspan="1" colspan="1">Native log-based streaming (Kafka Streams, KSQL, etc.)</td>
            <td class="text-left" rowspan="1" colspan="1">Native gRPC support via HTTP/2/3 client streaming, server streaming. Notice that Server Sent Events (SSE) with HTTP/1.1 cannot carry binary nor compressed data.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Persistence</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Same as AMQP</td>
            <td class="text-left" rowspan="1" colspan="1">Built-in: messages persist on disk across clusters</td>
            <td class="text-left" rowspan="1" colspan="1">Not supported</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Protocol Overhead</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Higher (AMQP + WebSockets handshake)</td>
            <td class="text-left" rowspan="1" colspan="1">Moderate (custom binary protocol, but optimized for high throughput)</td>
            <td class="text-left" rowspan="1" colspan="1">Low: Wire format uses protocol buffer. Supports also binary (byte type in protobuf)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Broker Required</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Yes (distributed cluster)</td>
            <td class="text-left" rowspan="1" colspan="1">Yes for efficient multi-party. P2P is also possible.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Authentication</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Same as AMQP (broker-based)</td>
            <td class="text-left" rowspan="1" colspan="1">SASL/PLAIN, SASL/SCRAM, Kerberos, OAuth</td>
            <td class="text-left" rowspan="1" colspan="1">Transports MLS credentials and proofs inside OAuth bearer tokens over HTTP/2. This gives you: Interoperability: Leverage standard HTTP/2 and OAuth libraries. Scalability: One persistent HTTP/2 connection carries many MLS messages. Immediate revocation: Eject bad actors by revoking their OAuth tokens—no need to rebalance the ratchet tree first.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Transport Security</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">WSS (WebSocket Secure)</td>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Message Security</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Same as AMQP (depends on the broker's encryption at rest/in-transit)</td>
            <td class="text-left" rowspan="1" colspan="1">TLS in-flight encryption, optional at-rest encryption (broker config)</td>
            <td class="text-left" rowspan="1" colspan="1">MLS (Quantum safe, Secure end-to-end, even across insecure hops, post-compromise security)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Binary or Text</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Binary AMQP frames over WebSockets</td>
            <td class="text-left" rowspan="1" colspan="1">Binary protocol (common payloads: Avro, JSON, Protobuf)</td>
            <td class="text-left" rowspan="1" colspan="1">Binary or Text</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Use Cases</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Browser-based apps needing AMQP behind firewalls</td>
            <td class="text-left" rowspan="1" colspan="1">High-throughput data pipelines, streaming analytics, event sourcing</td>
            <td class="text-left" rowspan="1" colspan="1">Group messaging, one-to-many, many-to-many, Cloud-native microservices, real-time communications, streaming</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <strong>Real-World Usage</strong>
</td>
            <td class="text-left" rowspan="1" colspan="1">Less common, mainly for browser/firewall scenarios using RabbitMQ or similar</td>
            <td class="text-left" rowspan="1" colspan="1">Extremely widespread across industries; de facto standard for large-scale event streaming</td>
            <td class="text-left" rowspan="1" colspan="1">New Entrant, low</td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="sec-normative-references">
<section id="section-6">
      <h2 id="name-normative-references">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
    <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Luca Muscariello</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lumuscar@cisco.com" class="email">lumuscar@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
